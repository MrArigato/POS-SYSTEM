{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Container,Typography,List,ListItem,ListItemText,Button,TextField}from'@material-ui/core';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sales=()=>{const[sales,setSales]=useState([]);const[product,setProduct]=useState('');const[quantity,setQuantity]=useState('');const[total,setTotal]=useState('');useEffect(()=>{const fetchSales=async()=>{const response=await axios.get('http://localhost:3000/api/sales',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSales(response.data);};fetchSales();},[]);const handleSubmit=async e=>{e.preventDefault();try{await axios.post('http://localhost:3000/api/sales',{product,quantity,total},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setProduct('');setQuantity('');setTotal('');const response=await axios.get('http://localhost:3000/api/sales',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSales(response.data);}catch(error){console.error('Sales recording failed',error);}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Sales\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Product\",fullWidth:true,margin:\"normal\",value:product,onChange:e=>setProduct(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Quantity\",fullWidth:true,margin:\"normal\",value:quantity,onChange:e=>setQuantity(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Total\",fullWidth:true,margin:\"normal\",value:total,onChange:e=>setTotal(e.target.value)}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:\"Record Sale\"})]}),/*#__PURE__*/_jsx(List,{children:sales.map(sale=>/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:`${sale.product.name} - ${sale.quantity} - $${sale.total}`})},sale._id))})]});};export default Sales;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Typography","List","ListItem","ListItemText","Button","TextField","jsx","_jsx","jsxs","_jsxs","Sales","sales","setSales","product","setProduct","quantity","setQuantity","total","setTotal","fetchSales","response","get","headers","Authorization","localStorage","getItem","data","handleSubmit","e","preventDefault","post","error","console","children","variant","component","gutterBottom","onSubmit","label","fullWidth","margin","value","onChange","target","type","color","map","sale","primary","name","_id"],"sources":["C:/Users/Owner/Desktop/All coding projects/pos-system/frontend/src/components/Sales.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Container, Typography, List, ListItem, ListItemText, Button, TextField } from '@material-ui/core';\r\n\r\nconst Sales = () => {\r\n  const [sales, setSales] = useState([]);\r\n  const [product, setProduct] = useState('');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [total, setTotal] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchSales = async () => {\r\n      const response = await axios.get('http://localhost:3000/api/sales', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setSales(response.data);\r\n    };\r\n\r\n    fetchSales();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:3000/api/sales', { product, quantity, total }, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setProduct('');\r\n      setQuantity('');\r\n      setTotal('');\r\n      const response = await axios.get('http://localhost:3000/api/sales', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      setSales(response.data);\r\n    } catch (error) {\r\n      console.error('Sales recording failed', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>Sales</Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          label=\"Product\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={product}\r\n          onChange={(e) => setProduct(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Quantity\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={quantity}\r\n          onChange={(e) => setQuantity(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Total\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={total}\r\n          onChange={(e) => setTotal(e.target.value)}\r\n        />\r\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\">Record Sale</Button>\r\n      </form>\r\n      <List>\r\n        {sales.map(sale => (\r\n          <ListItem key={sale._id}>\r\n            <ListItemText primary={`${sale.product.name} - ${sale.quantity} - $${sale.total}`} />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Sales;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}